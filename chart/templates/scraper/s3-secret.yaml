{{- if .Values.scraper.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "docutag.fullname" . }}-scraper-s3
  labels:
    {{- include "docutag.componentLabels" (dict "component" "scraper" "type" "backend" "context" .) | nindent 4 }}
type: Opaque
stringData:
  # S3 credentials - should be provided via --set or external secret management
  # Example:
  #   helm install --set scraper.storage.s3.accessKeyId=xxx --set scraper.storage.s3.secretAccessKey=yyy
  access-key-id: {{ .Values.scraper.storage.s3.accessKeyId | default "" | quote }}
  secret-access-key: {{ .Values.scraper.storage.s3.secretAccessKey | default "" | quote }}
{{- end }}
